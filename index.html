<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Embree: High Performance Ray Tracing Kernels" />
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <title>Embree</title>
    <link rel="icon" type="image/png" href="images/icon192.png" sizes="192x192">
    <link rel="SHORTCUT ICON" HREF="images/icon32.ico">
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <div class="inner">
        <a id="forkme_banner" href="https://github.com/embree">View on GitHub</a>
        <h1 id="project_title">Embree</h1>
        <h2 id="project_tagline">High Performance Ray Tracing Kernels</h2>
      </div>

      <div id="nav">
      <div id="nbar">
        <ul>
          <li id="selected"><a href="index.html">Overview</a></li>
          <li><a href="downloads.html">Downloads</a></li>
          <li><a href="api.html">API</a></li>
          <li><a href="tutorials.html">Tutorials</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="renderer.html">Renderer</a></li>
          <li><a href="related.html">Related Projects</a></li>
        </ul>
      </div>
      </div>

    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <div id="main_content" class="inner">
<h1 id="embree-overview">Embree Overview</h1>
<p>Embree is a collection of high-performance ray tracing kernels, developed at Intel. The target user of Embree are graphics application engineers that want to improve the performance of their application by leveraging the optimized ray tracing kernels of Embree. The kernels are optimized for photo-realistic rendering on the latest Intel® processors with support for SSE, AVX, AVX2, and the 16-wide Intel® Xeon Phi™ coprocessor vector instructions. Embree supports runtime code selection to choose the traversal and build algorithms that best matches the instruction set of your CPU. We recommend using Embree through its API to get the highest benefit from future improvements. Embree is released as Open Source under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>.</p>
<p>Embree supports applications written with the Intel SPMD Programm Compiler (ISPC, <a href="https://ispc.github.io/" class="uri">https://ispc.github.io/</a>) by also providing an ISPC interface to the core ray tracing algorithms. This makes it possible to write a renderer in ISPC that leverages SSE, AVX, AVX2, and Xeon Phi instructions without any code change. ISPC also supports runtime code selection, thus ISPC will select the best code path for your application, while Embree selects the optimal code path for the ray tracing algorithms.</p>
<p>Embree contains algorithms optimized for incoherent workloads (e.g. Monte Carlo ray tracing algorithms) and coherent workloads (e.g. primary visibility and hard shadow rays). For standard CPUs, the single-ray traversal kernels in Embree provide the best performance for incoherent workloads and are very easy to integrate into existing rendering applications. For Xeon Phi, a renderer written in ISPC using the default hybrid ray/packet traversal algorithms have shown to perform best, but requires writing the renderer in ISPC. In general for coherent workloads, ISPC outperforms the single ray mode on each platform. Embree also supports dynamic scenes by implementing high performance two-level spatial index structure construction algorithms.</p>
<p>In addition to the ray tracing kernels, Embree provides some tutorials to demonstrate how to use the <a href="api.html">Embree API</a>. The example photorealistic renderer that was originally included in the Embree kernel package is now available in a separate GIT repository (see <a href="renderer.html">Embree Example Renderer</a>).</p>
<h2 id="version-history">Version History</h2>
<h3 id="new-features-in-embree-2.6.0">New Features in Embree 2.6.0</h3>
<ul>
<li>Added <code>rtcInterpolate</code> function to interpolate per vertex attributes</li>
<li>Added <code>rtcSetBoundaryMode</code> function that can be used to select the boundary handling for subdivision surfaces</li>
<li>Fixed a traversal bug that caused rays with very small ray direction components to miss geometry</li>
<li>Performance improvements for the robust traversal mode</li>
<li>Fixed deadlock when calling rtcCommit from multiple threads on same scene.</li>
</ul>
<h3 id="new-features-in-embree-2.5.1">New Features in Embree 2.5.1</h3>
<ul>
<li>On dual socket workstations, the initial BVH build performance almost doubled through a better memory allocation scheme</li>
<li>Reduced memory usage for subdivision surface objects with crease features</li>
<li><code>rtcCommit</code> performance is robust against unset “flush to zero” and “denormals are zero” flags. However, enabling these flags in your application is still recommended</li>
<li>Reduced memory usage for subdivision surfaces with borders and infinitely sharp creases</li>
<li>Lots of internal cleanups and bug fixes for both Intel® Xeon® and Intel® Xeon Phi™</li>
</ul>
<h3 id="new-features-in-embree-2.5.0">New Features in Embree 2.5.0</h3>
<ul>
<li>Improved hierarchy build performance on both Intel Xeon and Intel Xeon Phi</li>
<li>Vastly improved tessellation cache for ray tracing subdivision surfaces</li>
<li>Added <code>rtcGetUserData</code> API call to query per geometry user pointer set through <code>rtcSetUserData</code></li>
<li>Added support for memory monitor callback functions to track and limit memory consumption</li>
<li>Added support for progress monitor callback functions to track build progress and cancel long build operations</li>
<li>BVH builders can be used to build user defined hierarchies inside the application (see tutorial <a href="tutorials.html#bvh-builder">BVH Builder</a>)</li>
<li>Switched to TBB as default tasking system on Xeon to get even faster hierarchy build times and better integration for applications that also use TBB</li>
<li><code>rtcCommit</code> can get called from multiple TBB threads to join the hierarchy build operations</li>
</ul>
<h3 id="new-features-in-embree-2.4">New Features in Embree 2.4</h3>
<ul>
<li>Support for Catmull Clark subdivision surfaces (triangle/quad base primitives)</li>
<li>Support for vector displacements on Catmull Clark subdivision surfaces</li>
<li>Various bug fixes (e.g. 4-byte alignment of vertex buffers works)</li>
</ul>
<h3 id="new-features-in-embree-2.3.3">New Features in Embree 2.3.3</h3>
<ul>
<li>BVH builders more robustly handle invalid input data (Intel Xeon processor family)</li>
<li>Motion blur support for hair geometry (Xeon)</li>
<li>Improved motion blur performance for triangle geometry (Xeon)</li>
<li>Improved robust ray tracing mode (Xeon)</li>
<li>Added <code>rtcCommitThread</code> API call for easier integration into existing tasking systems (Xeon and Intel Xeon Phi coprocessor)</li>
<li>Added support for recording and replaying all <code>rtcIntersect</code>/<code>rtcOccluded</code> calls (Xeon and Xeon Phi)</li>
</ul>
<h3 id="new-features-in-embree-2.3.2">New Features in Embree 2.3.2</h3>
<ul>
<li>Improved mixed AABB/OBB-BVH for hair geometry (Xeon Phi)</li>
<li>Reduced amount of pre-allocated memory for BVH builders (Xeon Phi)</li>
<li>New 64 bit Morton code-based BVH builder (Xeon Phi)</li>
<li>(Enhanced) Morton code-based BVH builders use now tree rotations to improve BVH quality (Xeon Phi)</li>
<li>Bug fixes (Xeon and Xeon Phi)</li>
</ul>
<h3 id="new-features-in-embree-2.3.1">New Features in Embree 2.3.1</h3>
<ul>
<li>High quality BVH mode improves spatial splits which result in up to 30% performance improvement for some scenes (Xeon).</li>
<li>Compile time enabled intersection filter functions do not reduce performance if no intersection filter is used in the scene (Xeon and Xeon Phi)</li>
<li>Improved ray tracing performance for hair geometry by &gt;20% on Xeon Phi. BVH for hair geometry requires 20% less memory</li>
<li>BVH8 for AVX/AVX2 targets improves performance for single ray tracing on Haswell by up to 12% and by up to 5% for hybrid (Xeon)</li>
<li>Memory conservative BVH for Xeon Phi now uses BVH node quantization to lower memory footprint (requires half the memory footprint of the default BVH)</li>
</ul>
<h3 id="new-features-in-embree-2.3">New Features in Embree 2.3</h3>
<ul>
<li>Support for ray tracing hair geometry (Xeon and Xeon Phi)</li>
<li>Catching errors through error callback function</li>
<li>Faster hybrid traversal (Xeon and Xeon Phi)</li>
<li>New memory conservative BVH for Xeon Phi</li>
<li>Faster Morton code-based builder on Xeon</li>
<li>Faster binned-SAH builder on Xeon Phi</li>
<li>Lots of code cleanups/simplifications/improvements (Xeon and Xeon Phi)</li>
</ul>
<h3 id="new-features-in-embree-2.2">New Features in Embree 2.2</h3>
<ul>
<li>Support for motion blur on Xeon Phi</li>
<li>Support for intersection filter callback functions</li>
<li>Support for buffer sharing with the application</li>
<li>Lots of AVX2 optimizations, e.g. ~20% faster 8-wide hybrid traversal</li>
<li>Experimental support for 8-wide (AVX/AVX2) and 16-wide BVHs (Xeon Phi)</li>
</ul>
<h3 id="new-features-in-embree-2.1">New Features in Embree 2.1</h3>
<ul>
<li>New future proof API with a strong focus on supporting dynamic scenes</li>
<li>Lots of optimizations for 8-wide AVX2 (Haswell architecture)</li>
<li>Automatic runtime code selection for SSE, AVX, and AVX2</li>
<li>Support for user-defined geometry</li>
<li>New and improved BVH builders:
<ul>
<li>Fast adaptive Morton code-based builder (without SAH-based top-level rebuild)</li>
<li>Both the SAH and Morton code-based builders got faster (Xeon Phi)</li>
<li>New variant of the SAH-based builder using triangle pre-splits (Xeon Phi)</li>
</ul></li>
</ul>
<h3 id="example-performance-numbers-for-embree-2.1">Example Performance Numbers for Embree 2.1</h3>
<p>BVH rebuild performance (including triangle accel generation, excluding memory allocation) for scenes with 2–12 million triangles:</p>
<ul>
<li>Intel® Core™ i7 (Haswell-based CPU, 4 cores @ 3.0 GHz)
<ul>
<li>7–8 million triangles/s for the SAH-based BVH builder</li>
<li>30–36 million triangles/s for the Morton code-based BVH builder</li>
</ul></li>
<li>Intel® Xeon Phi™ 7120
<ul>
<li>37–40 million triangles/s for the SAH-based BVH builder</li>
<li>140–160 million triangles/s for the Morton code-based BVH builder</li>
</ul></li>
</ul>
<p>Rendering of the Crown model (<code>crown.ecs</code>) with 4 samples per pixel (<code>-spp 4</code>):</p>
<ul>
<li>Intel® Core™ i7 (Haswell-based CPU, 4 cores CPU @ 3.0 GHz)
<ul>
<li>1024×1024 resolution: 7.8 million rays per sec</li>
<li>1920×1080 resolution: 9.9 million rays per sec</li>
</ul></li>
<li>Intel® Xeon Phi™ 7120
<ul>
<li>1024×1024 resolution: 47.1 million rays per sec</li>
<li>1920×1080 resolution: 61.1 million rays per sec</li>
</ul></li>
</ul>
<h3 id="new-features-in-embree-2.0">New Features in Embree 2.0</h3>
<ul>
<li>Support for the Intel® Xeon Phi™ coprocessor platform</li>
<li>Support for high-performance “packet” kernels on SSE, AVX, and Xeon Phi</li>
<li>Integration with the Intel® SPMD Program Compiler (ISPC)</li>
<li>Instantiation and fast BVH reconstruction</li>
<li>Example photo-realistic rendering engine for both C++ and ISPC</li>
</ul>
<h2>
Embree Resources
</h2>
<h3>
Papers
</h3>
<p><strong> Exploiting Local Orientation Similarity for Efficient Ray Traversal of Hair and Fur </strong> <br> Sven Woop, Carsten Benthin, Ingo Wald, Gregory S. Johnson, and Eric Tabellion <br> <i>High Performance Graphics 2014</i> <br> [<a href="papers/2014-HPG-hair.pdf">pdf</a>], [<a href="papers/2014-HPG-hair.pptx">pptx</a>] <br> <br> <a href="papers/2014-HPG-hair-sophie.png"><img src="papers/2014-HPG-hair-sophie-thumb.jpg"></a> <a href="papers/2014-HPG-hair-tiger.png"><img src="papers/2014-HPG-hair-tiger-thumb.jpg"></a> <a href="papers/2014-HPG-hair-tighten.png"><img src="papers/2014-HPG-hair-tighten-thumb.jpg"></a> <a href="papers/2014-HPG-hair-yeti.png"><img src="papers/2014-HPG-hair-yeti-thumb.jpg"></a> <br><br></p>
<!------------------------------------------------------------------------------------------>
<p><strong> Embree – A Kernel Framework for Efficient CPU Ray Tracing </strong> <br> Ingo Wald, Sven Woop, Carsten Benthin, Gregory S. Johnson, and Manfred Ernst <br> <i>ACM Transactions on Graphics (proceedings of ACM SIGGRAPH) 2014</i> <br> [<a href="papers/2014-Siggraph-Embree.pdf">pdf</a>], [<a href="papers/2014-Siggraph-Embree.bib">bib</a>] <br> <br> <a href="papers/2014-Siggraph-Embree-000.png"><img src="papers/2014-Siggraph-Embree-000-thumb.jpg"></a> <a href="papers/2014-Siggraph-Embree-001.png"><img src="papers/2014-Siggraph-Embree-001-thumb.jpg"></a> <a href="papers/2014-Siggraph-Embree-002.png"><img src="papers/2014-Siggraph-Embree-002-thumb.jpg"></a> <a href="papers/2014-Siggraph-Embree-003.png"><img src="papers/2014-Siggraph-Embree-003-thumb.jpg"></a> <a href="papers/2014-Siggraph-Embree-004.png"><img src="papers/2014-Siggraph-Embree-004-thumb.jpg"></a> <a href="papers/2014-Siggraph-Embree-005.png"><img src="papers/2014-Siggraph-Embree-005-thumb.jpg"></a> <a href="papers/2014-Siggraph-Embree-006.png"><img src="papers/2014-Siggraph-Embree-006-thumb.jpg"></a> <br><br></p>
<!------------------------------------------------------------------------------------------>
<p><strong>Watertight Ray/Triangle Intersection</strong> <br> Sven Woop, Carsten Benthin, Ingo Wald <br> <i>Journal of Computer Graphics Techniques (JCGT)</i>, Volume 2, Issue 1, pages 65–82, 2013. <br> [<a href="http://jcgt.org/published/0002/01/05/paper.pdf">pdf</a>], [<a href="http://jcgt.org/published/0002/01/05/bibtex.bib">bib</a>] <br> <br> <a href="papers/2013-JCGT-Watertight-000.png"><img src="papers/2013-JCGT-Watertight-000-thumb.jpg"></a> <a href="papers/2013-JCGT-Watertight-001.png"><img src="papers/2013-JCGT-Watertight-001-thumb.jpg"></a> <br><br></p>
<!------------------------------------------------------------------------------------------>
<p><strong>Combining Single and Packet-Ray Tracing for Arbitrary Ray Distributions on the Intel MIC Architecture</strong> <br> Carsten Benthin, Ingo Wald, Sven Woop, Manfred Ernst, William R. Mark <br> <i>IEEE Transactions on Visualization and Computer Graphics</i>, Volume 18, Issue 9, 2012 <br> [<a href="http://doi.ieeecomputersociety.org/10.1109/TVCG.2011.277">pdf</a>], [<a href="papers/2011-TVCG-Hybrid.bib">bib</a>] <br><br></p>
<!------------------------------------------------------------------------------------------>
<p><strong>Fast Construction of SAH BVHs on the Intel Many Integrated Core (MIC) Architecture </strong> <br> Ingo Wald <br> <i>IEEE Transactions on Visualization and Computer Graphics</i>, 18(1), 2012, pages 47–57 <br> [<a href="http://www.sci.utah.edu/~wald/Publications/2012/MICBVH/LRB-BVH.pdf">pdf</a>],</p>
<h3>
Presentations
</h3>
<p>
<a href="data/siggraph2014_embree_paper.pdf">Embree Paper Talk</a> at SIGGRAPH 2014
</p>
<p>
<a href="data/siggraph2014_embree_tutorial.pdf">Embree Tutorial</a> at SIGGRAPH 2014
</p>
<p>
<a href="data/embree-siggraph-2013-final.pdf">Embree 2.0 Presentation</a> at SIGGRAPH 2013
</p>
<p>
<a href="data/embree-siggraph-2012-final.pdf">Embree 1.1 Presentation</a> at SIGGRAPH 2012
</p>
<h3>
Blogs / Forum
</h3>
<p>
Read the <a
href="http://software.intel.com/en-us/blogs/2014/01/24/introduction-to-embree-21-part-1">Embree Blog</a> for more details about Embree.
</p>
<p>
Participate in <a href="http://software.intel.com/en-us/forums/embree-photo-realistic-ray-tracing-kernels">Embree Forum</a> Discussion.
</p>
<h2 id="embree-support-and-contact">Embree Support and Contact</h2>
<p>If you encounter bugs please report them via <a href="https://github.com/embree/embree/issues">Embree’s GitHub Issue Tracker</a>.</p>
<p>For questions please write us at <a href="mailto:embree_support@intel.com">embree_support@intel.com</a>.</p>
<p>To receive notifications of updates and new features of Embree please subscribe to the <a href="https://groups.google.com/d/forum/embree/">Embree mailing list</a>.</p>
      </div>

      <div id="footer">
        © 2009–2015 Intel Corporation <a href="legal.html">Disclaimer and Legal Information</a>
      </div>
    </div>
  </body>
</html>
